{"ast":null,"code":"import _regeneratorRuntime from\"/Users/eugenechernomor/Downloads/optimizationProject-main/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/eugenechernomor/Downloads/optimizationProject-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{GET_POSTS_REQUEST,GET_POSTS_SUCCESS,EDIT_POST,REMOVE_POST}from\"../actions/Posts\";import{postsApi}from\"../../services/entities/postsApi\";import{commentsApi}from\"../../services/entities/commentsApi\";import{mappingPosts}from\"../../helpers/mappingPosts\";export var getAllPosts=function getAllPosts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var postsAndComments,postsWithComments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:GET_POSTS_REQUEST});_context.next=3;return Promise.all([postsApi.getAllPosts(),commentsApi.getAllComments()]);case 3:postsAndComments=_context.sent;postsWithComments=mappingPosts(postsAndComments);setTimeout(function(){dispatch({type:GET_POSTS_SUCCESS,payload:postsWithComments});},2000);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var editPost=function editPost(id,data){return{type:EDIT_POST,payload:{id:id,data:data}};};export var removePost=function removePost(id){return{type:REMOVE_POST,payload:id};};","map":{"version":3,"sources":["/Users/eugenechernomor/Downloads/optimizationProject-main/src/store/actionCreators/Posts.js"],"names":["GET_POSTS_REQUEST","GET_POSTS_SUCCESS","EDIT_POST","REMOVE_POST","postsApi","commentsApi","mappingPosts","getAllPosts","dispatch","type","Promise","all","getAllComments","postsAndComments","postsWithComments","setTimeout","payload","editPost","id","data","removePost"],"mappings":"qRAAA,OACEA,iBADF,CAEEC,iBAFF,CAGEC,SAHF,CAIEC,WAJF,KAKO,kBALP,CAMA,OAASC,QAAT,KAAyB,kCAAzB,CACA,OAASC,WAAT,KAA4B,qCAA5B,CACA,OAASC,YAAT,KAA6B,4BAA7B,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC/B,+FAAO,iBAAOC,QAAP,yJACLA,QAAQ,CAAC,CAAEC,IAAI,CAAET,iBAAR,CAAD,CAAR,CADK,sBAG0BU,CAAAA,OAAO,CAACC,GAAR,CAAY,CACzCP,QAAQ,CAACG,WAAT,EADyC,CAEzCF,WAAW,CAACO,cAAZ,EAFyC,CAAZ,CAH1B,QAGCC,gBAHD,eAOCC,iBAPD,CAOqBR,YAAY,CAACO,gBAAD,CAPjC,CAQLE,UAAU,CAAC,UAAM,CACfP,QAAQ,CAAC,CAAEC,IAAI,CAAER,iBAAR,CAA2Be,OAAO,CAAEF,iBAApC,CAAD,CAAR,CACD,CAFS,CAEP,IAFO,CAAV,CARK,sDAAP,+DAYD,CAbM,CAeP,MAAO,IAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,EAAD,CAAKC,IAAL,QAAe,CACrCV,IAAI,CAAEP,SAD+B,CAErCc,OAAO,CAAE,CAAEE,EAAE,CAAFA,EAAF,CAAMC,IAAI,CAAJA,IAAN,CAF4B,CAAf,EAAjB,CAKP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACF,EAAD,QAAS,CAAET,IAAI,CAAEN,WAAR,CAAqBa,OAAO,CAAEE,EAA9B,CAAT,EAAnB","sourcesContent":["import {\n  GET_POSTS_REQUEST,\n  GET_POSTS_SUCCESS,\n  EDIT_POST,\n  REMOVE_POST,\n} from \"../actions/Posts\";\nimport { postsApi } from \"../../services/entities/postsApi\";\nimport { commentsApi } from \"../../services/entities/commentsApi\";\nimport { mappingPosts } from \"../../helpers/mappingPosts\";\n\nexport const getAllPosts = () => {\n  return async (dispatch) => {\n    dispatch({ type: GET_POSTS_REQUEST });\n\n    const postsAndComments = await Promise.all([\n      postsApi.getAllPosts(),\n      commentsApi.getAllComments(),\n    ]);\n    const postsWithComments = mappingPosts(postsAndComments);\n    setTimeout(() => {\n      dispatch({ type: GET_POSTS_SUCCESS, payload: postsWithComments });\n    }, 2000);\n  };\n};\n\nexport const editPost = (id, data) => ({\n  type: EDIT_POST,\n  payload: { id, data },\n});\n\nexport const removePost = (id) => ({ type: REMOVE_POST, payload: id });\n"]},"metadata":{},"sourceType":"module"}