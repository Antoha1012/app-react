{"ast":null,"code":"var _jsxFileName = \"/Users/eugenechernomor/Downloads/optimizationProject-main/src/components/HeavyComponent/HeavyComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport HeavyComponentItem from \"./../HeavyComponentItem/HeavyComponentItem\";\nimport RandomNumber from \"./../RandomNumber/RandomNumber\";\nimport styles from \"./animation.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HeavyComponent = () => {\n  _s();\n\n  const [list, setList] = useState([]);\n\n  const fillWithNums = () => {\n    console.time(\"fill array\");\n    const nums = [];\n\n    for (let i = 1; i <= 1000; i++) {\n      const item = {\n        id: i,\n        value: i\n      };\n      nums.push(item);\n    }\n\n    console.timeEnd(\"fill array\");\n    return nums;\n  };\n\n  const handleChange = e => {\n    switch (e.detail.type) {\n      case \"increment\":\n        incrementValue(e.detail.id);\n        break;\n\n      case \"decrement\":\n        decrementValue(e.detail.id);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  useEffect(() => {\n    const numsArray = fillWithNums();\n    setList(numsArray);\n  }, []);\n  useEffect(() => {\n    document.addEventListener(\"changeValue\", handleChange);\n    return () => document.removeEventListener(\"changeValue\", handleChange);\n  }, [list]);\n\n  const incrementValue = id => {\n    const targetItem = list.find(item => item.id === id);\n    const targetIndex = list.findIndex(item => item.id === targetItem.id);\n    setList(list => [...list.slice(0, targetIndex), { ...targetItem,\n      value: targetItem.value + 1\n    }, ...list.slice(targetIndex + 1)]);\n  };\n\n  const decrementValue = id => {\n    const targetItem = list.find(item => item.id === id);\n    const targetIndex = list.findIndex(item => item.id === targetItem.id);\n    setList(list => [...list.slice(0, targetIndex), { ...targetItem,\n      value: targetItem.value - 1\n    }, ...list.slice(targetIndex + 1)]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.walkaboutOldSchool\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RandomNumber, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: list.map(item => /*#__PURE__*/_jsxDEV(HeavyComponentItem, {\n        item: item\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HeavyComponent, \"eJ5g374pNl+GUKfhAwNu05jzdgs=\");\n\n_c = HeavyComponent;\nexport default HeavyComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"HeavyComponent\");","map":{"version":3,"sources":["/Users/eugenechernomor/Downloads/optimizationProject-main/src/components/HeavyComponent/HeavyComponent.js"],"names":["React","useState","useEffect","HeavyComponentItem","RandomNumber","styles","HeavyComponent","list","setList","fillWithNums","console","time","nums","i","item","id","value","push","timeEnd","handleChange","e","detail","type","incrementValue","decrementValue","numsArray","document","addEventListener","removeEventListener","targetItem","find","targetIndex","findIndex","slice","walkaboutOldSchool","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport HeavyComponentItem from \"./../HeavyComponentItem/HeavyComponentItem\";\nimport RandomNumber from \"./../RandomNumber/RandomNumber\";\nimport styles from \"./animation.module.css\";\n\nconst HeavyComponent = () => {\n  const [list, setList] = useState([]);\n\n  const fillWithNums = () => {\n    console.time(\"fill array\");\n    const nums = [];\n    for (let i = 1; i <= 1000; i++) {\n      const item = { id: i, value: i };\n      nums.push(item);\n    }\n    console.timeEnd(\"fill array\");\n    return nums;\n  };\n\n  const handleChange = (e) => {\n    switch (e.detail.type) {\n      case \"increment\":\n        incrementValue(e.detail.id);\n        break;\n\n      case \"decrement\":\n        decrementValue(e.detail.id);\n        break;\n      default:\n        return;\n    }\n  };\n\n  useEffect(() => {\n    const numsArray = fillWithNums();\n    setList(numsArray);\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"changeValue\", handleChange);\n\n    return () => document.removeEventListener(\"changeValue\", handleChange);\n  }, [list]);\n\n  const incrementValue = (id) => {\n    const targetItem = list.find((item) => item.id === id);\n    const targetIndex = list.findIndex((item) => item.id === targetItem.id);\n\n    setList((list) => [\n      ...list.slice(0, targetIndex),\n      { ...targetItem, value: targetItem.value + 1 },\n      ...list.slice(targetIndex + 1),\n    ]);\n  };\n\n  const decrementValue = (id) => {\n    const targetItem = list.find((item) => item.id === id);\n    const targetIndex = list.findIndex((item) => item.id === targetItem.id);\n    setList((list) => [\n      ...list.slice(0, targetIndex),\n      { ...targetItem, value: targetItem.value - 1 },\n      ...list.slice(targetIndex + 1),\n    ]);\n  };\n\n  return (\n    <>\n      <div className={styles.walkaboutOldSchool}></div>\n      <RandomNumber />\n      <ul>\n        {list.map((item) => (\n          <HeavyComponentItem\n            item={item}\n            key={item.id}\n            // increment={incrementValue}\n            // decrement={decrementValue}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default HeavyComponent;\n"]},"metadata":{},"sourceType":"module"}