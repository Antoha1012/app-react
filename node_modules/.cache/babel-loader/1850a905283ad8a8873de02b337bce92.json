{"ast":null,"code":"import _objectSpread from\"/Users/eugenechernomor/Downloads/optimizationProject-main/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/eugenechernomor/Downloads/optimizationProject-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/eugenechernomor/Downloads/optimizationProject-main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import HeavyComponentItem from\"./../HeavyComponentItem/HeavyComponentItem\";import RandomNumber from\"./../RandomNumber/RandomNumber\";import styles from\"./animation.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HeavyComponent=function HeavyComponent(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var fillWithNums=function fillWithNums(){console.time(\"fill array\");var nums=[];for(var i=1;i<=1000;i++){var item={id:i,value:i};nums.push(item);}console.timeEnd(\"fill array\");return nums;};var handleChange=function handleChange(e){switch(e.detail.type){case\"increment\":incrementValue(e.detail.id);break;case\"decrement\":decrementValue(e.detail.id);break;default:return;}};useEffect(function(){var numsArray=fillWithNums();setList(numsArray);},[]);useEffect(function(){document.addEventListener(\"changeValue\",handleChange);return function(){return document.removeEventListener(\"changeValue\",handleChange);};},[list]);var incrementValue=function incrementValue(id){var targetItem=list.find(function(item){return item.id===id;});var targetIndex=list.findIndex(function(item){return item.id===targetItem.id;});setList(function(list){return[].concat(_toConsumableArray(list.slice(0,targetIndex)),[_objectSpread(_objectSpread({},targetItem),{},{value:targetItem.value+1})],_toConsumableArray(list.slice(targetIndex+1)));});};var decrementValue=function decrementValue(id){var targetItem=list.find(function(item){return item.id===id;});var targetIndex=list.findIndex(function(item){return item.id===targetItem.id;});setList(function(list){return[].concat(_toConsumableArray(list.slice(0,targetIndex)),[_objectSpread(_objectSpread({},targetItem),{},{value:targetItem.value-1})],_toConsumableArray(list.slice(targetIndex+1)));});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.walkaboutOldSchool}),/*#__PURE__*/_jsx(RandomNumber,{}),/*#__PURE__*/_jsx(\"ul\",{children:list.map(function(item){return/*#__PURE__*/_jsx(HeavyComponentItem,{item:item},item.id);})})]});};export default HeavyComponent;","map":{"version":3,"sources":["/Users/eugenechernomor/Downloads/optimizationProject-main/src/components/HeavyComponent/HeavyComponent.js"],"names":["React","useState","useEffect","HeavyComponentItem","RandomNumber","styles","HeavyComponent","list","setList","fillWithNums","console","time","nums","i","item","id","value","push","timeEnd","handleChange","e","detail","type","incrementValue","decrementValue","numsArray","document","addEventListener","removeEventListener","targetItem","find","targetIndex","findIndex","slice","walkaboutOldSchool","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport HeavyComponentItem from \"./../HeavyComponentItem/HeavyComponentItem\";\nimport RandomNumber from \"./../RandomNumber/RandomNumber\";\nimport styles from \"./animation.module.css\";\n\nconst HeavyComponent = () => {\n  const [list, setList] = useState([]);\n\n  const fillWithNums = () => {\n    console.time(\"fill array\");\n    const nums = [];\n    for (let i = 1; i <= 1000; i++) {\n      const item = { id: i, value: i };\n      nums.push(item);\n    }\n    console.timeEnd(\"fill array\");\n    return nums;\n  };\n\n  const handleChange = (e) => {\n    switch (e.detail.type) {\n      case \"increment\":\n        incrementValue(e.detail.id);\n        break;\n\n      case \"decrement\":\n        decrementValue(e.detail.id);\n        break;\n      default:\n        return;\n    }\n  };\n\n  useEffect(() => {\n    const numsArray = fillWithNums();\n    setList(numsArray);\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"changeValue\", handleChange);\n\n    return () => document.removeEventListener(\"changeValue\", handleChange);\n  }, [list]);\n\n  const incrementValue = (id) => {\n    const targetItem = list.find((item) => item.id === id);\n    const targetIndex = list.findIndex((item) => item.id === targetItem.id);\n\n    setList((list) => [\n      ...list.slice(0, targetIndex),\n      { ...targetItem, value: targetItem.value + 1 },\n      ...list.slice(targetIndex + 1),\n    ]);\n  };\n\n  const decrementValue = (id) => {\n    const targetItem = list.find((item) => item.id === id);\n    const targetIndex = list.findIndex((item) => item.id === targetItem.id);\n    setList((list) => [\n      ...list.slice(0, targetIndex),\n      { ...targetItem, value: targetItem.value - 1 },\n      ...list.slice(targetIndex + 1),\n    ]);\n  };\n\n  return (\n    <>\n      <div className={styles.walkaboutOldSchool}></div>\n      <RandomNumber />\n      <ul>\n        {list.map((item) => (\n          <HeavyComponentItem\n            item={item}\n            key={item.id}\n            // increment={incrementValue}\n            // decrement={decrementValue}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default HeavyComponent;\n"]},"metadata":{},"sourceType":"module"}